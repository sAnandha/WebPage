
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Dashboard</title>
</head>
<body>
  <h2>User Dashboard</h2>
  <button id="signOut">Log out</button>

  <div>
    <p><strong>Email:</strong> <span id="email"></span></p>
    <p><strong>Access Token:</strong> <pre id="access-token"></pre></p>
    <p><strong>ID Token:</strong> <pre id="id-token"></pre></p>
    <p><strong>Refresh Token:</strong> <pre id="refresh-token"></pre></p>
  </div>

  <script type="module">
    import { userManager, signOutRedirect } from "./main.js";

    userManager.signinCallback().then(user => {
      document.getElementById("email").textContent = user.profile?.email || "Unknown";
      document.getElementById("access-token").textContent = user.access_token;
      document.getElementById("id-token").textContent = user.id_token;
      document.getElementById("refresh-token").textContent = user.refresh_token;
    });

    document.getElementById("signOut").addEventListener("click", signOutRedirect);
  </script>
</body>
</html>
